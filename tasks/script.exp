#!/usr/bin/expect -f
#
# This Expect script was generated by autoexpect on Fri Mar 10 22:13:49 2023
# Expect and autoexpect were both written by Don Libes, NIST.
#
# Note that autoexpect does not guarantee a working script.  It
# necessarily has to guess about certain things.  Two reasons a script
# might fail are:
#
# 1) timing - A surprising number of programs (rn, ksh, zsh, telnet,
# etc.) and devices discard or ignore keystrokes that arrive "too
# quickly" after prompts.  If you find your new script hanging up at
# one spot, try adding a short sleep just before the previous send.
# Setting "force_conservative" to 1 (see below) makes Expect do this
# automatically - pausing briefly before sending each character.  This
# pacifies every program I know of.  The -c flag makes the script do
# this in the first place.  The -C flag allows you to define a
# character to toggle this mode off and on.

set force_conservative 0  ;# set to 1 to force conservative mode even if
			  ;# script wasn't run conservatively originally
if {$force_conservative} {
	set send_slow {1 .1}
	proc send {ignore arg} {
		sleep .1
		exp_send -s -- $arg
	}
}

#
# 2) differing output - Some programs produce different output each time
# they run.  The "date" command is an obvious example.  Another is
# ftp, if it produces throughput statistics at the end of a file
# transfer.  If this causes a problem, delete these patterns or replace
# them with wildcards.  An alternative is to use the -p flag (for
# "prompt") which makes Expect only look for the last line of output
# (i.e., the prompt).  The -P flag allows you to define a character to
# toggle this mode off and on.
#
# Read the man page for more info.
#
# -Don


set timeout -1
spawn zsh
match_max 100000
expect -exact "\[1m\[7m#\[27m\[1m\[0m                                                                                                                                                                                                               \r \r\]2;root@aa7dcf3c57c3:~\]1;~\r\[0m\[27m\[24m\[J\[0m\[49m\[39m\[0m\[40m\[33m root@aa7dcf3c57c3\[0m\[33m\[40m\[40m\[33m \[0m\[33m\[40m\[44m\[30m\[0m\[30m\[44m\[44m\[30m ~\[0m\[30m\[44m\[44m\[30m \[0m\[30m\[44m\[49m\[34m\[0m\[34m\[49m\[39m \[0m\[49m\[39m\[K\[157C\[0m\[49m\[30m\[0m\[30m\[40m\[32m \[0m\[32m\[40m\[40m\[32m✔\[0m\[32m\[40m\[40m\[32m \[0m\[32m\[40m\[40m\[32m\[0m\[32m\[40m\[40m\[33m \[0m\[33m\[40m\[40m\[33m⚡\[0m\[33m\[40m\[40m\[33m \[0m\[33m\[40m\[40m\[33m\[39m\[0m\[40m\[49m\[30m 16\[0m\[30m\[49m\[30m\[0m\[30m\[49m\[30m \[0m\[30m\[49m\[30m\[37m\[0m\[37m\[47m\[30m 22:13:49\[0m\[30m\[47m\[47m\[30m\[0m\[30m\[47m\[47m\[30m \[0m\[30m\[47m\[49m\[39m\[182D\[?1h=\[?2004h"
send -- "p1"
expect -exact "p1"
send -- "0k configure\r"
expect -exact "\[?1l>\[?2004l\r\r
\]2;p10k configure\]1;p10k\[?1049h\[22;0;0t\[?25l\[H\[2J\[3J    This is \[34mPowerlevel10k configuration wizard\[39m. It will ask you a few questions and\r
                                 configure your prompt.\r
\r
                    \[1mDoes this look like a\[0m \[32mdiamond\[39m \[1m(rotated square)?\[0m\r
                      reference: \]8;;https://graphemica.com/%E2%97%86https://graphemica.com/%E2%97%86\]8;;\r
\r
                                     --->    <---\r
\r
\[1m(y)  Yes.\[0m\r
\r
\[1m(n)  No.\[0m\r
\r
(q)  Quit and do nothing.\r
\r
\[1mChoice \[ynq\]: \[0m\[?25h"
send -- "y"
expect -exact "\[?25l\[H\[2J\[3J                              \[1mDoes this look like a \[0m\[32mlock\[39m\[1m?\[0m\r
                     reference: \]8;;https://fontawesome.com/icons/lockhttps://fontawesome.com/icons/lock\]8;;\r
\r
                                     --->    <---\r
\r
\[1m(y)  Yes.\[0m\r
\r
\[1m(n)  No.\[0m\r
\r
(r)  Restart from the beginning.\r
(q)  Quit and do nothing.\r
\r
\[1mChoice \[ynrq\]: \[0m\[?25h"
send -- "y"
expect -exact "\[?25l\[H\[2J\[3J                   \[1mDoes this look like a\[0m \[32mDebian logo\[39m \[1m(swirl/spiral)?\[0m\r
                  reference: \]8;;https://debian.org/logos/openlogo-nd.svghttps://debian.org/logos/openlogo-nd.svg\]8;;\r
\r
                                     --->    <---\r
\r
\[1m(y)  Yes.\[0m\r
\r
\[1m(n)  No.\[0m\r
\r
(r)  Restart from the beginning.\r
(q)  Quit and do nothing.\r
\r
\[1mChoice \[ynrq\]: \[0m\[?25h"
send -- "y"
expect -exact "\[?25l\[H\[2J\[3J                      \[1mDo all these icons \[0m\[32mfit between the crosses\[39m\[1m?\[0m\r
\r
                             --->  X\[31m\[39mX\[32m\[39mX\[33m\[39mX\[34m\[39mX\[35m\[39mX\[36m\[39mX\[31m\[39mX\[32m\[39mX  <---\r
\r
\[1m(y)  Yes. Icons are very close to the crosses but there is \[0m\[32mno overlap\[39m\[1m.\[0m\r
\r
\[1m(n)  No. Some icons \[0m\[32moverlap\[39m\[1m neighbouring crosses.\[0m\r
\r
(r)  Restart from the beginning.\r
(q)  Quit and do nothing.\r
\r
\[1mChoice \[ynrq\]: \[0m\[?25h"
send -- "y"
expect -exact "\[?25l\[H\[2J\[3J                                     \[1mCharacter Set\[0m\r
\r
\[1m(1)  Unicode.\[0m\r
\r
  \[34m\[34m~/src\[39m \[32mmaster\[39m \[37m                                                                    \[39m \[33m5s\[39m\r
  \[32m❯\[39m \[07m \[27m\[37m                                                                                 \[39m\r
\r
\[1m(2)  ASCII.\[0m\r
\r
  \[34m\[34m~/src\[39m \[32mmaster\[39m \[37m                                                                    \[39m \[33m5s\[39m\r
  \[32m>\[39m \[07m \[27m\[37m                                                                                 \[39m\r
\r
(r)  Restart from the beginning.\r
(q)  Quit and do nothing.\r
\r
\[1mChoice \[12rq\]: \[0m\[?25h"
send -- "1"
expect -exact "\[?25l\[H\[2J\[3J                                   \[1mShow current time?\[0m\r
\r
\[1m(1)  No.\[0m\r
\r
  \[34m\[34m~/src\[39m \[32mmaster\[39m \[37m                                                                    \[39m \[33m5s\[39m\r
  \[32m❯\[39m \[07m \[27m\[37m                                                                                 \[39m\r
\r
\[1m(2)  24-hour format.\[0m\r
\r
  \[34m\[34m~/src\[39m \[32mmaster\[39m \[37m                                                           \[39m \[33m5s\[39m \[36m16:23:42\[39m\r
  \[32m❯\[39m \[07m \[27m\[37m                                                                                 \[39m\r
\r
\[1m(3)  12-hour format.\[0m\r
\r
  \[34m\[34m~/src\[39m \[32mmaster\[39m \[37m                                                        \[39m \[33m5s\[39m \[36m04:23:42 PM\[39m\r
  \[32m❯\[39m \[07m \[27m\[37m                                                                                 \[39m\r
\r
(r)  Restart from the beginning.\r
(q)  Quit and do nothing.\r
\r
\[1mChoice \[123rq\]: \[0m\[?25h"
send -- "2"
expect -exact "\[?25l\[H\[2J\[3J                                     \[1mPrompt Height\[0m\r
\r
\[1m(1)  One line.\[0m\r
\r
  \[34m\[34m~/src\[39m \[32mmaster\[39m \[32m❯\[39m \[07m \[27m\[37m                                                        \[39m \[33m5s\[39m \[36m16:23:42\[39m\r
\r
\[1m(2)  Two lines.\[0m\r
\r
  \[34m\[34m~/src\[39m \[32mmaster\[39m \[37m                                                           \[39m \[33m5s\[39m \[36m16:23:42\[39m\r
  \[32m❯\[39m \[07m \[27m\[37m                                                                                 \[39m\r
\r
(r)  Restart from the beginning.\r
(q)  Quit and do nothing.\r
\r
\[1mChoice \[12rq\]: \[0m\[?25h"
send -- "2"
expect -exact "\[?25l\[H\[2J\[3J                                   \[1mPrompt Connection\[0m\r
\r
\[1m(1)  Disconnected.\[0m\r
\r
  \[34m\[34m~/src\[39m \[32mmaster\[39m \[37m                                                           \[39m \[33m5s\[39m \[36m16:23:42\[39m\r
  \[32m❯\[39m \[07m \[27m\[37m                                                                                 \[39m\r
\r
\[1m(2)  Dotted.\[0m\r
\r
  \[34m\[34m~/src\[39m \[32mmaster\[39m \[37m···························································\[39m \[33m5s\[39m \[36m16:23:42\[39m\r
  \[32m❯\[39m \[07m \[27m\[37m                                                                                 \[39m\r
\r
\[1m(3)  Solid.\[0m\r
\r
  \[34m\[34m~/src\[39m \[32mmaster\[39m \[37m───────────────────────────────────────────────────────────\[39m \[33m5s\[39m \[36m16:23:42\[39m\r
  \[32m❯\[39m \[07m \[27m\[37m                                                                                 \[39m\r
\r
(r)  Restart from the beginning.\r
(q)  Quit and do nothing.\r
\r
\[1mChoice \[123rq\]: \[0m\[?25h"
send -- "1"
expect -exact "\[?25l\[H\[2J\[3J                                      \[1mPrompt Frame\[0m\r
\[1m(1)  No frame.\[0m\r
  \[34m\[34m~/src\[39m \[32mmaster\[39m \[37m                                                           \[39m \[33m5s\[39m \[36m16:23:42\[39m\r
  \[32m❯\[39m \[07m \[27m\[37m                                                                                 \[39m\r
\r
\[1m(2)  Left.\[0m\r
  \[37m╭─ \[34m\[34m~/src\[39m \[32mmaster\[39m \[37m                                                        \[39m \[33m5s\[39m \[36m16:23:42\[39m\r
  \[37m╰─\[32m❯\[39m \[07m \[27m\[37m                                                                               \[39m\r
\r
\[1m(3)  Right.\[0m\r
  \[34m\[34m~/src\[39m \[32mmaster\[39m \[37m                                                        \[39m \[33m5s\[39m \[36m16:23:42\[39m \[37m─╮\[39m\r
  \[32m❯\[39m \[07m \[27m\[37m                                                                              \[39m \[37m─╯\[39m\r
\r
\[1m(4)  Full.\[0m\r
  \[37m╭─ \[34m\[34m~/src\[39m \[32mmaster\[39m \[37m                                                     \[39m \[33m5s\[39m \[36m16:23:42\[39m \[37m─╮\[39m\r
  \[37m╰─\[32m❯\[39m \[07m \[27m\[37m                                                                            \[39m \[37m─╯\[39m\r
\r
(r)  Restart from the beginning.\r
(q)  Quit and do nothing.\r
\r
\[1mChoice \[1234rq\]: \[0m\[?25h"
send -- "2"
expect -exact "\[?25l\[H\[2J\[3J                                      \[1mFrame Color\[0m\r
                                                                                 frame\r
\[1m(1)  Black.\[0m                                                                          |\r
                                                                                     v\r
  \[30m╭─ \[34m\[34m~/src\[39m \[32mmaster\[39m \[30m                                                        \[39m \[33m5s\[39m \[36m16:23:42\[39m\r
  \[30m╰─\[32m❯\[39m \[07m \[27m\[30m                                                                               \[39m\r
\r
\[1m(2)  White.\[0m\r
  \[37m╭─ \[34m\[34m~/src\[39m \[32mmaster\[39m \[37m                                                        \[39m \[33m5s\[39m \[36m16:23:42\[39m\r
  \[37m╰─\[32m❯\[39m \[07m \[27m\[37m                                                                               \[39m\r
\r
\[1m(3)  Green.\[0m\r
  \[32m╭─ \[34m\[34m~/src\[39m \[32mmaster\[39m \[32m                                                        \[39m \[33m5s\[39m \[36m16:23:42\[39m\r
  \[32m╰─\[32m❯\[39m \[07m \[27m\[32m                                                                               \[39m\r
\r
\[1m(4)  Blue.\[0m\r
  \[34m╭─ \[34m\[34m~/src\[39m \[32mmaster\[39m \[34m                                                        \[39m \[33m5s\[39m \[36m16:23:42\[39m\r
  \[34m╰─\[32m❯\[39m \[07m \[27m\[34m                                                                               \[39m\r
\r
(r)  Restart from the beginning.\r
(q)  Quit and do nothing.\r
\r
\[1mChoice \[1234rq\]: \[0m\[?25h"
send -- "4"
expect -exact "\[?25l\[H\[2J\[3J                                     \[1mPrompt Spacing\[0m\r
\r
\[1m(1)  Compact.\[0m\r
\r
  \[34m╭─ \[34m\[34m~/src\[39m \[32mmaster\[39m \[34m                                                        \[39m \[33m5s\[39m \[36m16:23:42\[39m\r
  \[34m╰─\[32m❯\[39m \[07m \[27m\[34m                                                                               \[39m\r
  \[34m╭─ \[34m\[34m~/src\[39m \[32mmaster\[39m \[34m                                                        \[39m \[33m5s\[39m \[36m16:23:42\[39m\r
  \[34m╰─\[32m❯\[39m \[07m \[27m\[34m                                                                               \[39m\r
\r
\[1m(2)  Sparse.\[0m\r
\r
  \[34m╭─ \[34m\[34m~/src\[39m \[32mmaster\[39m \[34m                                                        \[39m \[33m5s\[39m \[36m16:23:42\[39m\r
  \[34m╰─\[32m❯\[39m \[07m \[27m\[34m                                                                               \[39m\r
\r
  \[34m╭─ \[34m\[34m~/src\[39m \[32mmaster\[39m \[34m                                                        \[39m \[33m5s\[39m \[36m16:23:42\[39m\r
  \[34m╰─\[32m❯\[39m \[07m \[27m\[34m                                                                               \[39m\r
\r
(r)  Restart from the beginning.\r
(q)  Quit and do nothing.\r
\r
\[1mChoice \[12rq\]: \[0m\[?25h"
send -- "2"
expect -exact "\[?25l\[H\[2J\[3J                                         \[1mIcons\[0m\r
\r
\[1m(1)  Few icons.\[0m\r
\r
  \[34m╭─ \[34m\[34m~/src\[39m \[32mmaster\[39m \[34m                                                        \[39m \[33m5s\[39m \[36m16:23:42\[39m\r
  \[34m╰─\[32m❯\[39m \[07m \[27m\[34m                                                                               \[39m\r
\r
\[1m(2)  Many icons.\[0m\r
\r
  \[34m╭─ \[39m \[34m \[34m~/src\[39m \[32m  master\[39m \[34m                                            \[39m \[33m 5s\[39m \[36m 16:23:42\[39m\r
  \[34m╰─\[32m❯\[39m \[07m \[27m\[34m                                                                               \[39m\r
\r
(r)  Restart from the beginning.\r
(q)  Quit and do nothing.\r
\r
\[1mChoice \[12rq\]: \[0m\[?25h"
send -- "2"
expect -exact "\[?25l\[H\[2J\[3J                                      \[1mPrompt Flow\[0m\r
\r
\[1m(1)  Concise.\[0m\r
\r
  \[34m╭─ \[39m \[34m \[34m~/src\[39m \[32m  master\[39m \[34m                                            \[39m \[33m 5s\[39m \[36m 16:23:42\[39m\r
  \[34m╰─\[32m❯\[39m \[07m \[27m\[34m                                                                               \[39m\r
\r
\[1m(2)  Fluent.\[0m\r
\r
  \[34m╭─ \[39m \[34m \[34m~/src\[39m on \[32m  master\[39m \[34m                                 \[39m took \[33m 5s\[39m at \[36m 16:23:42\[39m\r
  \[34m╰─\[32m❯\[39m \[07m \[27m\[34m                                                                               \[39m\r
\r
(r)  Restart from the beginning.\r
(q)  Quit and do nothing.\r
\r
\[1mChoice \[12rq\]: \[0m\[?25h"
send -- "1"
expect -exact "\[?25l\[H\[2J\[3J                                \[1mEnable Transient Prompt?\[0m\r
\[1m(y)  Yes.\[0m\r
  \[32m❯\[39m \[32mgit\[39m pull\r
  \[32m❯\[39m \[32mgit\[39m branch x\r
\r
  \[34m╭─ \[39m \[34m \[34m~/src\[39m \[32m  master\[39m \[34m                                            \[39m \[33m 5s\[39m \[36m 16:23:42\[39m\r
  \[34m╰─\[32m❯\[39m \[32mgit\[39m checkout x\[07m \[27m\[34m                                                                 \[39m\r
\r
\[1m(n)  No.\[0m\r
  \[34m╭─ \[39m \[34m \[34m~/src\[39m \[32m  master\[39m \[34m                                            \[39m \[33m 5s\[39m \[36m 16:23:42\[39m\r
  \[34m╰─\[32m❯\[39m \[32mgit\[39m pull\[34m                                                                        \[39m\r
\r
  \[34m╭─ \[39m \[34m \[34m~/src\[39m \[32m  master\[39m \[34m                                            \[39m \[33m 5s\[39m \[36m 16:23:42\[39m\r
  \[34m╰─\[32m❯\[39m \[32mgit\[39m branch x\[34m                                                                    \[39m\r
\r
  \[34m╭─ \[39m \[34m \[34m~/src\[39m \[32m  master\[39m \[34m                                            \[39m \[33m 5s\[39m \[36m 16:23:42\[39m\r
  \[34m╰─\[32m❯\[39m \[32mgit\[39m checkout x\[07m \[27m\[34m                                                                 \[39m\r
\r
(r)  Restart from the beginning.\r
(q)  Quit and do nothing.\r
\r
\[1mChoice \[ynrq\]: \[0m\[?25h"
send -- "n"
expect -exact "\[?25l\[H\[2J\[3J                                  \[1mInstant Prompt Mode\[0m\r
\r
     \]8;;https://github.com/romkatv/powerlevel10k/blob/master/README.md#instant-prompthttps://github.com/romkatv/powerlevel10k/blob/master/README.md#instant-prompt\]8;;\r
\r
\[1m(1)  Verbose (recommended).\[0m\r
\r
\[1m(2)  Quiet.\[0m Choose this if you've read and understood instant prompt documentation.\r
\r
\[1m(3)  Off.\[0m Choose this if you've tried instant prompt and found it incompatible with your\r
     zsh configuration files.\r
\r
(r)  Restart from the beginning.\r
(q)  Quit and do nothing.\r
\r
\[1mChoice \[123rq\]: \[0m\[?25h"
send -- "1"
expect -exact "\[?25l\[H\[2J\[3J                               \[1mApply changes to \[0m\[32m~/.zshrc\[39m\[1m?\[0m\r
\r
\[1m(y)  Yes (recommended).\[0m\r
\r
\[1m(n)  No. I know which changes to apply and will do it myself.\[0m\r
\r
(r)  Restart from the beginning.\r
(q)  Quit and do nothing.\r
\r
\[1mChoice \[ynrq\]: \[0m\[?25h"
send -- "y"
expect -exact "\[?1049l\[23;0;0t\r
New config: \[4m~/.p10k.zsh\[24m.\r
Backup of \[4m~/.zshrc\[24m: \[4m/tmp/.zshrc.1ld3hvpvmD\[24m.\r
\r
See \[1m~/.zshrc\[0m changes:\r
\r
  \[32mdiff\[39m \[1m/tmp/.zshrc.1ld3hvpvmD\[0m \[1m~/.zshrc\[0m\r
\r
File feature requests and bug reports at \]8;;https://github.com/romkatv/powerlevel10k/issueshttps://github.com/romkatv/powerlevel10k/issues\]8;;\r
\r
\[?25h\[1m\[7m#\[27m\[1m\[0m                                                                                                                                                                                                               \r \r\]2;root@aa7dcf3c57c3:~\]1;~\[0m\[34m\[49m\[39m\[K\r
\r\[0m\[27m\[24m\[J\[0m\[49m\[39m\r
\[A\[34m╭─\[0m\[34m\[49m\[30m \[0m\[30m\[49m\[39m\[0m\[49m\[39m\[0m\[49m \[0m\[49m\[34m \[34m~\[0m\[34m\[49m\[34m\[0m\[34m\[49m\[34m\[0m\[34m\[49m\[30m\[0m\[30m\[49m\[39m                                                                                                                                                                           \[0m\[49m\[31m\[1m\[31mroot@aa7dcf3c57c3\[0m\[31m\[49m\[31m\[0m\[31m\[49m\[31m\[0m\[31m\[49m\[36m  22:19:50\[0m\[36m\[49m\[36m\[0m\[36m\[49m\[36m\[0m\[36m\[49m\[39m\r
\[34m╰─\[0m\[34m\[49m\[32m❯\[0m\[32m\[49m\[32m\[0m\[32m\[49m\[30m\[0m\[30m\[49m\[39m \[0m\[49m\[39m\[K\[?1h=\[?2004h"
send -- "ex"
expect -exact "ex"
send -- "u"
expect -exact " "
send -- "it\r"
expect eof
